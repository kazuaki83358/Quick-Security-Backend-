{% extends "admin_base.html" %}
{% block content %}

<h2>Worker Applications</h2>

<div class="table-wrapper">
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Phone</th>
            <th>Email</th>
            <th>City</th>
            <th>Service</th>
            <th>Experience</th>
            <th>Availability</th>
            <th class="col-address">Address</th>
            <th class="col-doc">Aadhaar</th>
            <th class="col-doc">PAN</th>
            <th class="col-doc">Photo</th>
            <th>Status</th>
            <th class="actions-col">Actions</th>
        </tr>
    </thead>

    <tbody>
    {% for w in workers %}
    <tr>
        <td>{{ w.full_name }}</td>
        <td>{{ w.phone }}</td>
        <td>{{ w.email }}</td>
        <td>{{ w.city }}</td>
        <td>{{ w.service_type }}</td>
        <td>{{ w.experience }}</td>
        <td>{{ w.availability }}</td>

        <td class="wrap-text">{{ w.address }}</td>

        <td class="col-doc">
            {% if w.aadhaar_url %}
                <a href="{{ w.aadhaar_url }}" target="_blank">View</a>
            {% else %}
                —
            {% endif %}
        </td>

        <td class="col-doc">
            {% if w.pan_url %}
                <a href="{{ w.pan_url }}" target="_blank">View</a>
            {% else %}
                —
            {% endif %}
        </td>

        <td class="col-doc">
            {% if w.photo_url %}
                <a href="{{ w.photo_url }}" target="_blank">View</a>
            {% else %}
                —
            {% endif %}
        </td>

        <td><strong>{{ w.status }}</strong></td>

        <td class="actions">
            <a class="btn-approve" href="/admin/update/worker/{{ w.id }}/approved">Approve</a>
            <a class="btn-reject" href="/admin/update/worker/{{ w.id }}/rejected">Reject</a>
            <a class="btn-done" href="/admin/update/worker/{{ w.id }}/completed">Done</a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
</div>

{% endblock %}
